<!doctype html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>How to Check and uncheck all using jQuery and JavaScript</title>
        <link href='style.css' type='text/css' rel='stylesheet'>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script type='text/javascript'>
            $(document).ready(function(){
                $("#checkallusers").change(function(){
                    var checked = $(this).is(':checked'); // Checkbox state

                    // Select all
                    if(checked){
                        $('#sel_users option').each(function() {
                            $(this).prop('selected',true);
                        });
                    }else{
                    // Deselect All
                        $('#sel_users option').each(function() {
                            $(this).prop('selected',false);
                        });
                    }
                    
                });
                
                // Changing state of Checkbox
                $("#sel_users").change(function(){
                
                    // When total options equals to total selected option
                    if($("#sel_users option").length == $("#sel_users option:selected").length) {
                        $("#checkallusers").prop("checked", true);
                    } else {
                        $("#checkallusers").prop("checked", false);
                    }
                });
            });
        </script>
    </head>
    <body>
        <div class='container'>
            <h2>Example1 - With Listbox</h2>
            <input type='checkbox' id='checkallusers' value=''> Select All<br/>
            <select id='sel_users' size="6" multiple>
                <option value='Anil'>Anil</option>
                <option value='Amit'>Amit</option>
                <option value='Mayank'>Mayank</option>
                <option value='Sonarika'>Sonarika</option>
                <option value='Vishal'>Vishal</option>
                <option value='Yogesh'>Yogesh</option>
            </select>
        </div>
    </body>
</html>